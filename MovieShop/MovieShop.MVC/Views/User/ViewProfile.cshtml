@model Infrastructure.Services.CurrentUserService
@using ApplicationCore.ServiceInterfaces;
@inject ICurrentUserService _CurrentUserService;

@{
    ViewData["Title"] = "Profile";
}

<h1>Profile</h1>
<form method="post" asp-controller="User" asp-action="ViewProfile">
    <div>
        <hr />
        <dl class="row">
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.FullName)
            </dt>
            <dd class="col-sm-10">
                @_CurrentUserService.FullName
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Email)
            </dt>
            <dd class="col-sm-10">
                @ViewBag.user.Email
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.DateOfBirth)
            </dt>
            <dd class="col-sm-10">
                @ViewBag.user.DateOfBirth
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.IsAdmin)
            </dt>
            <dd class="col-sm-10">
                @_CurrentUserService.IsAdmin
            </dd>
        </dl>
    </div>
    <div>
        <a asp-action="RedirectEdit">Edit</a>  |
        <a asp-action="RedirectHome">Back to Home</a>
    </div>
</form>